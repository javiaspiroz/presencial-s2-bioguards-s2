BEGIN TRANSACTION;
CREATE TABLE IF NOT EXISTS "usuario" (
	"dni"	TEXT,
	"password"	TEXT NOT NULL,
	"rol"	TEXT NOT NULL,
	PRIMARY KEY("dni")
);
CREATE TABLE IF NOT EXISTS "clinico" (
	"nombre"	TEXT NOT NULL,
	"apellido"	TEXT NOT NULL,
	"dni"	TEXT,
	"fechaNacimiento"	TEXT NOT NULL,
	"email"	TEXT NOT NULL,
	"telefono"	INTEGER NOT NULL,
	"ciudad"	TEXT NOT NULL,
	"provincia"	TEXT NOT NULL,
	"codPostal"	INTEGER NOT NULL,
	"direccion"	TEXT NOT NULL,
	"especialidad"	TEXT,
	PRIMARY KEY("dni"),
	FOREIGN KEY("dni") REFERENCES "usuario"("dni")
);
CREATE TABLE IF NOT EXISTS "cuidador_familiar" (
	"nombre"	TEXT NOT NULL,
	"apellido"	TEXT NOT NULL,
	"dni"	TEXT,
	"fechaNacimiento"	TEXT NOT NULL,
	"email"	TEXT NOT NULL,
	"telefono"	INTEGER NOT NULL,
	"ciudad"	TEXT NOT NULL,
	"provincia"	TEXT NOT NULL,
	"codPostal"	INTEGER NOT NULL,
	"direccion"	TEXT NOT NULL,
	PRIMARY KEY("dni"),
	FOREIGN KEY("dni") REFERENCES "usuario"("dni")
);
CREATE TABLE IF NOT EXISTS "mensaje" (
	"id"	INTEGER,
	"texto"	TEXT NOT NULL,
	"fecha"	TEXT NOT NULL,
	"emisor"	TEXT NOT NULL,
	"receptor"	TEXT NOT NULL,
	"dni_paciente"	TEXT NOT NULL,
	PRIMARY KEY("id" AUTOINCREMENT),
	FOREIGN KEY("emisor") REFERENCES "usuario"("dni"),
	FOREIGN KEY("receptor") REFERENCES "usuario"("dni"),
	FOREIGN KEY("dni_paciente") REFERENCES "paciente"("dni")
);
CREATE TABLE IF NOT EXISTS "asiste" (
	"dni_pac"	TEXT NOT NULL,
	"dni_fam"	TEXT NOT NULL,
	PRIMARY KEY("dni_pac","dni_fam"),
	FOREIGN KEY("dni_pac") REFERENCES "paciente"("dni"),
	FOREIGN KEY("dni_fam") REFERENCES "cuidador_familiar"("dni")
);
CREATE TABLE IF NOT EXISTS "paciente" (
	"nombre"	TEXT NOT NULL,
	"apellido"	TEXT NOT NULL,
	"dni"	TEXT,
	"fechaNacimiento"	TEXT NOT NULL,
	"email"	TEXT NOT NULL,
	"telefono"	INTEGER NOT NULL,
	"ciudad"	TEXT NOT NULL,
	"provincia"	TEXT NOT NULL,
	"codPostal"	INTEGER NOT NULL,
	"direccion"	TEXT NOT NULL,
	"dni_clinico"	TEXT NOT NULL,
	PRIMARY KEY("dni"),
	FOREIGN KEY("dni_clinico") REFERENCES "clinico"("dni"),
	FOREIGN KEY("dni") REFERENCES "usuario"("dni")
);
CREATE TABLE IF NOT EXISTS "sensor" (
	"id"	INTEGER,
	"tipo"	TEXT NOT NULL,
	"dni_pac"	TEXT NOT NULL,
	PRIMARY KEY("id" AUTOINCREMENT),
	FOREIGN KEY("dni_pac") REFERENCES "paciente"("dni")
);
CREATE TABLE IF NOT EXISTS "medida" (
	"id"	INTEGER,
	"valor"	REAL NOT NULL,
	"fecha"	TEXT NOT NULL,
	"id_sensor"	INTEGER NOT NULL,
	PRIMARY KEY("id" AUTOINCREMENT),
	FOREIGN KEY("id_sensor") REFERENCES "sensor"("id")
);
CREATE TABLE IF NOT EXISTS "admin" (
	"nombre"	TEXT NOT NULL,
	"apellido"	TEXT NOT NULL,
	"dni"	TEXT,
	"fechaNacimiento"	TEXT NOT NULL,
	"email"	TEXT NOT NULL,
	"telefono"	INTEGER NOT NULL,
	"ciudad"	TEXT NOT NULL,
	"provincia"	TEXT NOT NULL,
	"codPostal"	INTEGER NOT NULL,
	"direccion"	TEXT NOT NULL,
	"tipo"	INTEGER NOT NULL,
	PRIMARY KEY("dni"),
	FOREIGN KEY("dni") REFERENCES "usuario"("dni")
);
CREATE TABLE IF NOT EXISTS "evento" (
	"id"	INTEGER,
	"texto"	TEXT NOT NULL,
	"tiempoInicio"	TEXT NOT NULL,
	"TiempoFin"	TEXT NOT NULL,
	"dni_pac"	TEXT NOT NULL,
	PRIMARY KEY("id" AUTOINCREMENT),
	FOREIGN KEY("dni_pac") REFERENCES "paciente"("dni")
);
CREATE TABLE IF NOT EXISTS "infoMedica" (
	"id"	INTEGER,
	"titulo"	TEXT NOT NULL,
	"fechaCreacion"	TEXT NOT NULL,
	"descripcion"	TEXT NOT NULL,
	"tratamiento"	TEXT,
	"dni_paciente"	TEXT,
	PRIMARY KEY("id" AUTOINCREMENT),
	FOREIGN KEY("dni_paciente") REFERENCES "paciente"("dni")
);
CREATE TABLE IF NOT EXISTS "mensaje_paciente" (
	"id"	INTEGER,
	"texto"	TEXT NOT NULL,
	"fecha"	TEXT NOT NULL,
	"emisor"	TEXT NOT NULL,
	"receptor"	TEXT NOT NULL,
	PRIMARY KEY("id" AUTOINCREMENT),
	FOREIGN KEY("receptor") REFERENCES "usuario"("dni"),
	FOREIGN KEY("emisor") REFERENCES "usuario"("dni")
);
INSERT INTO "usuario" ("dni","password","rol") VALUES ('19535356F','lucasSocas','cuidador'),
 ('24800428B','cristinaFraile','cuidador'),
 ('01865731V','jaimeArribas','cuidador'),
 ('99941921K','julioLimo','cuidador'),
 ('10772263Y','maitePino','cuidador'),
 ('52342356K','juanPerez','paciente'),
 ('72343421J','carlosTetuan','paciente'),
 ('52342237M','christianSantiago','paciente'),
 ('22346774Q','anaCervera','paciente'),
 ('42342323L','mariaCastellon','paciente'),
 ('22342344Q','carlaODonnell','paciente'),
 ('52342343K','mateoZhangNg','paciente'),
 ('82346777J','ramonSomoza','paciente'),
 ('62323426W','lauraWest','paciente'),
 ('56945777K','saraLara','administrador'),
 ('07694351J','sergioMontes','administrador'),
 ('35770954H','anaMartinez','administrador'),
 ('28647832L','manuelOlmo','administrador'),
 ('38734825J','jorgeChong','clinico'),
 ('38488290Z','mateoCordoba','clinico'),
 ('09384832M','silviaCerrano','clinico'),
 ('80594938Y','enriquePaz','clinico');
INSERT INTO "clinico" ("nombre","apellido","dni","fechaNacimiento","email","telefono","ciudad","provincia","codPostal","direccion","especialidad") VALUES ('Jorge','Chong','38734825J','1979-05-17','Jorge.ch@gmail.com',645434432,'Madrid','Madrid',28005,'C/ Toledo, 125','General'),
 ('Mateo','Cordoba Gonzales','38488290Z','1984-06-10','mate4243@outlook.com',664456393,'Madrid','Madrid',28005,'Ronda de Toledo, 26','Cardiologo'),
 ('Silvia','Serrano Lopez','09384832M','1970-02-22','silvasicerr@hotmail.com',693868294,'Madrid','Madrid',28002,'Plaza Ntra. Sra. del Pilar, 5','Neurologo'),
 ('Enrique','Paz Gutierres','80594938Y','1965-12-05','enriquepaz32@gmail.com',693858384,'Madrid','Madrid',28012,'C/ Atocha, 87','Neurologo');
INSERT INTO "cuidador_familiar" ("nombre","apellido","dni","fechaNacimiento","email","telefono","ciudad","provincia","codPostal","direccion") VALUES ('Lucas','Socas Llanos','19535356F','2000-12-02','adobrasca@gmail.com',695632154,'Zaragoza','Zaragoza',23423,'Villaviciosa de Odon, Calle 30, Casa 32'),
 ('Cristina','Fraile Selas','24800428B','1990-09-04','cristinafs@bioguards.com',687542165,'Caspe','Zaragoza',23432,'Santiago Bernabeu, Calle 78, Casa 12'),
 ('Jaime','Arribas Valle','01865731V','1999-03-11','jaimeav@bioguards.com',674522151,'Alagon','Zaragoza',32423,'Cuzco, Calle 74, Casa 72'),
 ('Julio','Limo Ramos','99941921K','1965-05-07','juliolr@bioguards.com',675896125,'Zaragoza','Zaragoza',212312,'Plaza Castilla, Calle 80, Casa 42'),
 ('Maite','Pino Usera','10772263Y','1995-08-12','maitepu@bioguards.com',632541789,'Zaragoza','Zaragoza',213123,'Legazpi, Calle 54, Casa 65');
INSERT INTO "mensaje" ("id","texto","fecha","emisor","receptor","dni_paciente") VALUES (1,'Buenos días, ¿La medicación se realiza en cada comida?','2021-01-14 12:30:00','99941921K','38734825J','52342356K'),
 (2,'Sí, son 200ml en cada toma. ','2021-01-14 12:45:00','38734825J','99941921K','52342356K'),
 (3,'Buenas tardes, ya no nos queda medicación, ¿cuándo se puede pasar a recoger más?','2021-01-20 18:50:00','72343421J','38734825J','72343421J'),
 (4,'Le envío la receta por email para que puedan recogerla en la farmacia más cercana.','2021-01-20 19:00:00','38734825J','72343421J','72343421J'),
 (5,'Buenos días, ¿se le ha bajado la inflamación?','2021-01-21 09:30:00','38734825J','52342237M','52342237M'),
 (6,'Ha disminuido algo, pero sigue bastante inflamado.','2021-01-21 10:00:00','52342237M','38734825J','52342237M'),
 (7,'Siga aplicando calor sobre la zona y si en un par de días no disminuye contacte conmigo. ','2021-01-21 10:05:00','38734825J','52342237M','52342237M'),
 (8,'Buenos días, ¿hay ejercicios de memoria más complejos?','2021-02-03 11:00:00','01865731V','38488290Z','22346774Q'),
 (9,'Si, dispone de ejercicios más completos en la web de la clínica. ','2021-02-03 11:45:00','38488290Z','01865731V','22346774Q'),
 (10,'Buenos días, ¿cuántas pastillas de sintrón había que suministrar en la comida?','2021-02-05 08:00:00','99941921K','38488290Z','42342323L'),
 (11,'Una pastilla y media. ','2021-02-05 08:15:00','38488290Z','99941921K','42342323L'),
 (12,'¿Qué alimentos conviene que tome el paciente?','2021-02-10 13:30:00','19535356F','09384832M','52342343K'),
 (13,'Lo mejor es fruta y también algún cereal como la avena ','2021-02-10 14:00:00','09384832M','19535356F','52342343K'),
 (14,'Hola','2021-04-07 08:33:40','19535356F','09384832M','52342343K'),
 (15,'Hola','2021-04-07 08:45:16','38734825J','24800428B','52342356K');
INSERT INTO "asiste" ("dni_pac","dni_fam") VALUES ('52342356K','99941921K'),
 ('52342356K','24800428B'),
 ('72343421J','19535356F'),
 ('52342237M','24800428B'),
 ('22346774Q','01865731V'),
 ('42342323L','99941921K'),
 ('22342344Q','10772263Y'),
 ('52342343K','19535356F'),
 ('82346777J','24800428B'),
 ('62323426W','19535356F');
INSERT INTO "paciente" ("nombre","apellido","dni","fechaNacimiento","email","telefono","ciudad","provincia","codPostal","direccion","dni_clinico") VALUES ('Juan','Perez Vladimir','52342356K','1947-04-25','adobrasca@gmail.com',944342323,'Madrid','Madrid',22343,'Boadilla, Calle 30, Casa 82','38734825J'),
 ('Carlos','Tetuan Gonzalez','72343421J','1949-08-12','carlos_tetuan_gon@gmail.com',934442363,'Getafe','Madrid',23423,'Mostoles, Calle 44, Casa 92','38734825J'),
 ('Christian','Santiago Lopez','52342237M','1952-02-15','christian_santiago_lo@gmail.com',924342344,'Leganes','Madrid',234234,'Alonso Martinez, Calle 78, Casa 34','38734825J'),
 ('Ana','Cervera Hernandez','22346774Q','1947-06-23','ana_cervera_her@gmail.com',914341111,'Madrid','Madrid',23423,'Tribunal, Calle 66, Casa 9','38488290Z'),
 ('Maria','Castellon Cordoba','42342323L','1945-08-21','maria_castellon_cor@gmail.com',944336547,'Madrid','Madrid',23433,'Principe pio, Calle 64, Casa 7','38488290Z'),
 ('Carla','ODonnell Ng','22342344Q','1956-01-27','carla_odonell_ng@gmail.com',944379465,'Madrid','Madrid',345344,'Villaviciosa de Odon, Calle 58, Casa 12','09384832M'),
 ('Mateo','Zhang Ng','52342343K','1978-04-01','mateo_zhang_ng@gmail.com',944353785,'Madrid','Madrid',32423,'Oria, Calle 55, Casa 2','09384832M'),
 ('Ramon','Somoza Correa','82346777J','1972-11-09','ramon_somoza_co@gmail.com',924326476,'Madrid','Madrid',23423,'Ventilla, Calle 90, Casa 5','80594938Y'),
 ('Laura','West Cedeno','62323426W','1961-09-01','carlos_tetuan_gon@gmail.com',954342355,'Madrid','Madrid',42343,'Chamartin, Calle 54, Casa 23','80594938Y');
INSERT INTO "sensor" ("id","tipo","dni_pac") VALUES (1,'Sensor 1','52342356K'),
 (2,'Sensor 2','52342356K'),
 (3,'Sensor 3','52342356K'),
 (4,'Sensor 1','72343421J'),
 (5,'Sensor 2','72343421J'),
 (6,'Sensor 3','72343421J');
INSERT INTO "medida" ("id","valor","fecha","id_sensor") VALUES (1,38.0,'2021-04-09 06:00:00',1),
 (2,37.0,'2021-04-09 07:00:00',1),
 (3,37.0,'2021-04-09 08:00:00',1),
 (4,38.0,'2021-04-09 09:00:00',1),
 (5,38.0,'2021-04-09 10:00:00',1),
 (6,38.0,'2021-04-09 11:00:00',1),
 (7,38.0,'2021-04-09 12:00:00',1),
 (8,34.0,'2021-04-09 13:00:00',1),
 (9,38.0,'2021-04-09 14:00:00',1),
 (10,38.0,'2021-04-09 15:00:00',1),
 (11,36.0,'2021-04-09 16:00:00',1),
 (12,37.0,'2021-04-09 17:00:00',1),
 (13,38.0,'2021-04-09 18:00:00',1),
 (14,37.0,'2021-04-09 19:00:00',1),
 (15,38.0,'2021-04-09 20:00:00',1),
 (16,34.0,'2021-04-09 21:00:00',1),
 (17,38.0,'2021-04-09 22:00:00',1),
 (18,35.0,'2021-04-09 23:00:00',1),
 (19,38.0,'2021-04-09 24:00:00',1),
 (20,0.0,'2021-04-09 06:00:00',2),
 (21,0.0,'2021-04-09 07:00:00',2),
 (22,1.0,'2021-04-09 08:00:00',2),
 (23,1.0,'2021-04-09 09:00:00',2),
 (24,1.0,'2021-04-09 10:00:00',2),
 (25,0.0,'2021-04-09 11:00:00',2),
 (26,0.0,'2021-04-09 12:00:00',2),
 (27,0.0,'2021-04-09 13:00:00',2),
 (28,0.0,'2021-04-09 14:00:00',2),
 (29,1.0,'2021-04-09 15:00:00',2),
 (30,0.0,'2021-04-09 16:00:00',2),
 (31,1.0,'2021-04-09 17:00:00',2),
 (32,0.0,'2021-04-09 18:00:00',2),
 (33,1.0,'2021-04-09 19:00:00',2),
 (34,0.0,'2021-04-09 20:00:00',2),
 (35,1.0,'2021-04-09 21:00:00',2),
 (36,0.0,'2021-04-09 22:00:00',2),
 (37,1.0,'2021-04-09 23:00:00',2),
 (38,0.0,'2021-04-09 24:00:00',2),
 (39,99.0,'2021-04-09 06:00:00',3),
 (40,98.0,'2021-04-09 07:00:00',3),
 (41,96.5,'2021-04-09 08:00:00',3),
 (42,97.0,'2021-04-09 09:00:00',3),
 (43,95.0,'2021-04-09 10:00:00',3),
 (44,93.0,'2021-04-09 11:00:00',3),
 (45,94.0,'2021-04-09 12:00:00',3),
 (46,91.0,'2021-04-09 13:00:00',3),
 (47,92.0,'2021-04-09 14:00:00',3),
 (48,97.0,'2021-04-09 15:00:00',3),
 (49,94.0,'2021-04-09 16:00:00',3),
 (50,95.0,'2021-04-09 17:00:00',3),
 (51,99.0,'2021-04-09 18:00:00',3),
 (52,97.0,'2021-04-09 19:00:00',3),
 (53,98.0,'2021-04-09 20:00:00',3),
 (54,94.0,'2021-04-09 21:00:00',3),
 (55,98.0,'2021-04-09 22:00:00',3),
 (56,95.0,'2021-04-09 23:00:00',3),
 (57,98.0,'2021-04-09 24:00:00',3),
 (58,38.0,'2021-04-09 06:00:00',4),
 (59,37.0,'2021-04-09 07:00:00',4),
 (60,37.0,'2021-04-09 08:00:00',4),
 (61,38.0,'2021-04-09 09:00:00',4),
 (62,38.0,'2021-04-09 10:00:00',4),
 (63,38.0,'2021-04-09 11:00:00',4),
 (64,38.0,'2021-04-09 12:00:00',4),
 (65,34.0,'2021-04-09 13:00:00',4),
 (66,38.0,'2021-04-09 14:00:00',4),
 (67,38.0,'2021-04-09 15:00:00',4),
 (68,36.0,'2021-04-09 16:00:00',4),
 (69,37.0,'2021-04-09 17:00:00',4),
 (70,38.0,'2021-04-09 18:00:00',4),
 (71,37.0,'2021-04-09 19:00:00',4),
 (72,38.0,'2021-04-09 20:00:00',4),
 (73,34.0,'2021-04-09 21:00:00',4),
 (74,38.0,'2021-04-09 22:00:00',4),
 (75,35.0,'2021-04-09 23:00:00',4),
 (76,38.0,'2021-04-09 24:00:00',4),
 (77,0.0,'2021-04-09 06:00:00',5),
 (78,0.0,'2021-04-09 07:00:00',5),
 (79,1.0,'2021-04-09 08:00:00',5),
 (80,1.0,'2021-04-09 09:00:00',5),
 (81,1.0,'2021-04-09 10:00:00',5),
 (82,0.0,'2021-04-09 11:00:00',5),
 (83,0.0,'2021-04-09 12:00:00',5),
 (84,0.0,'2021-04-09 13:00:00',5),
 (85,0.0,'2021-04-09 14:00:00',5),
 (86,1.0,'2021-04-09 15:00:00',5),
 (87,0.0,'2021-04-09 16:00:00',5),
 (88,1.0,'2021-04-09 17:00:00',5),
 (89,0.0,'2021-04-09 18:00:00',5),
 (90,1.0,'2021-04-09 19:00:00',5),
 (91,0.0,'2021-04-09 20:00:00',5),
 (92,1.0,'2021-04-09 21:00:00',5),
 (93,0.0,'2021-04-09 22:00:00',5),
 (94,1.0,'2021-04-09 23:00:00',5),
 (95,0.0,'2021-04-09 24:00:00',5),
 (96,99.0,'2021-04-09 06:00:00',6),
 (97,98.0,'2021-04-09 07:00:00',6),
 (98,96.5,'2021-04-09 08:00:00',6),
 (99,97.0,'2021-04-09 09:00:00',6),
 (100,95.0,'2021-04-09 10:00:00',6),
 (101,93.0,'2021-04-09 11:00:00',6),
 (102,94.0,'2021-04-09 12:00:00',6),
 (103,91.0,'2021-04-09 13:00:00',6),
 (104,92.0,'2021-04-09 14:00:00',6),
 (105,97.0,'2021-04-09 15:00:00',6),
 (106,94.0,'2021-04-09 16:00:00',6),
 (107,95.0,'2021-04-09 17:00:00',6),
 (108,99.0,'2021-04-09 18:00:00',6),
 (109,97.0,'2021-04-09 19:00:00',6),
 (110,98.0,'2021-04-09 20:00:00',6),
 (111,94.0,'2021-04-09 21:00:00',6),
 (112,98.0,'2021-04-09 22:00:00',6),
 (113,95.0,'2021-04-09 23:00:00',6),
 (114,98.0,'2021-04-09 24:00:00',6);
INSERT INTO "admin" ("nombre","apellido","dni","fechaNacimiento","email","telefono","ciudad","provincia","codPostal","direccion","tipo") VALUES ('Sara','Lara Ballesta','56945777K','1990-02-08','adobrasca@gmail.com',645437659,'Madrid','Madrid',23444,'Hospital Sofia, Calle 4, Casa 9',1),
 ('Sergio','Montes Leiro','07694351J','1995-06-19','sergio_ml@gmail.com',645438649,'Madrid','Madrid',42344,'Sol, Calle 6, Casa 96',2),
 ('Ana','Martinez Sarmiento','35770954H','1997-10-08','ana.ms23@gmail.com',645437395,'Avila','Avila',12312,'San Jose, Calle 5ta, Casa 7',2),
 ('Manuel','Olmo Villanueva','28647832L','1970-08-08','manuel.olmo87@hotmail.es',645437773,'Madrid','Madrid',28670,'Mostoles, Calle 4, Casa 2',1);
INSERT INTO "evento" ("id","texto","tiempoInicio","TiempoFin","dni_pac") VALUES (1,'Nuevo evento 1','2021-01-13 12:30:00','2021-01-13 13:00:00','52342356K'),
 (2,'Nuevo evento 2','2021-01-13 2:30:00','2021-01-13 2:50:00','72343421J'),
 (3,'Nuevo evento 3','2021-01-14 1:30:00','2021-01-14 1:40:00','22346774Q'),
 (4,'Nuevo evento 4','2021-02-13 12:10:00','2021-02-13 12:50:00','82346777J');
INSERT INTO "infoMedica" ("id","titulo","fechaCreacion","descripcion","tratamiento","dni_paciente") VALUES (1,'Rotura de tibia','2020-11-09','Rotura parcial de la tibia','Reposo durante dos meses, tras los cuales comenzar con sesiones de rehabilitación y añadir ejercicios con goma elástica.','52342356K'),
 (2,'Continuación de reposo tras la rotura de tibia','2021-01-09','El hueso no se ha recuperado totalmente.','Debido al estado del hueso se continua con el reposo y sesiones de rehabilitación.','52342356K'),
 (3,'Rehabilitación','2021-01-20','Rehabilitación completa de la tibia.','Se recomienda realizar algo de ejercicio diario para foratalecer la pierna.','52342356K');
INSERT INTO "mensaje_paciente" ("id","texto","fecha","emisor","receptor") VALUES (1,'Sí, he recibido la medicación de hoy mod','2021-01-14 12:30:00','52342356K','38734825J'),
 (2,'¿Ha bajado la inflamación, o sigue igual?','2021-01-21 09:30:00','38734825J','52342237M'),
 (3,'No hemos recibido la receta','2021-01-20 20:00:00','72343421J','38734825J'),
 (4,'¿Es bueno tomar leche?','2021-02-10 14:30:00','52342343K','09384832M'),
 (8,'hola','2021-04-07 08:04:55','52342356K','38734825J'),
 (9,'adios','2021-04-07 08:05:01','52342356K','38734825J'),
 (10,'Hola','2021-04-07 08:45:00','38734825J','52342356K');
COMMIT;
